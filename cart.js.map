{"version":3,"file":"cart.js","sources":["../src/cart.js"],"sourcesContent":["import { getFromStorage } from './js/storage.js';\nimport { getProductsById } from './js/products-api.js';\nimport { renderProducts } from './js/render-function.js';\nimport { refs } from './js/refs.js';\nimport iziToast from 'izitoast';\n\n//Логіка сторінки Cart\nconst { productsList, notFound, countCart, countWishlist } = refs;\nconst totalEl = document.querySelector('.cart__total span');\nconst itemsEl = document.querySelector('.cart__items span');\nconst buyBtn = document.querySelector('.cart__buy-btn');\n\nasync function renderCartPage() {\n  const ids = getFromStorage('cart');\n  if (!ids.length) {\n    productsList.innerHTML = '';\n    notFound.classList.add('not-found--visible');\n    totalEl.textContent = '0';\n    itemsEl.textContent = '0';\n    return;\n  }\n  notFound.classList.remove('not-found--visible');\n\n  try {\n    const products = await Promise.all(ids.map(id => getProductsById(id)));\n    renderProducts(products);\n    const total = products.reduce((sum, item) => sum + item.price, 0);\n    totalEl.textContent = `$${total}`;\n    itemsEl.textContent = `${products.length}`;\n  } catch {\n    iziToast.error({ message: 'Cart error' });\n  }\n}\n\nbuyBtn.addEventListener('click', () => {\n  iziToast.success({ message: 'Purchase successful!' });\n  localStorage.removeItem('cart');\n  renderCartPage();\n});\n\nrenderCartPage();\n"],"names":["productsList","notFound","countCart","countWishlist","refs","totalEl","itemsEl","buyBtn","renderCartPage","ids","getFromStorage","products","id","getProductsById","renderProducts","total","sum","item","iziToast"],"mappings":"mHAOA,KAAM,CAAE,aAAAA,EAAc,SAAAC,EAAU,UAAAC,EAAW,cAAAC,CAAa,EAAKC,EACvDC,EAAU,SAAS,cAAc,mBAAmB,EACpDC,EAAU,SAAS,cAAc,mBAAmB,EACpDC,EAAS,SAAS,cAAc,gBAAgB,EAEtD,eAAeC,GAAiB,CAC9B,MAAMC,EAAMC,EAAe,MAAM,EACjC,GAAI,CAACD,EAAI,OAAQ,CACfT,EAAa,UAAY,GACzBC,EAAS,UAAU,IAAI,oBAAoB,EAC3CI,EAAQ,YAAc,IACtBC,EAAQ,YAAc,IACtB,MACD,CACDL,EAAS,UAAU,OAAO,oBAAoB,EAE9C,GAAI,CACF,MAAMU,EAAW,MAAM,QAAQ,IAAIF,EAAI,IAAIG,GAAMC,EAAgBD,CAAE,CAAC,CAAC,EACrEE,EAAeH,CAAQ,EACvB,MAAMI,EAAQJ,EAAS,OAAO,CAACK,EAAKC,IAASD,EAAMC,EAAK,MAAO,CAAC,EAChEZ,EAAQ,YAAc,IAAIU,CAAK,GAC/BT,EAAQ,YAAc,GAAGK,EAAS,MAAM,EAC5C,MAAU,CACNO,EAAS,MAAM,CAAE,QAAS,YAAc,CAAA,CACzC,CACH,CAEAX,EAAO,iBAAiB,QAAS,IAAM,CACrCW,EAAS,QAAQ,CAAE,QAAS,sBAAwB,CAAA,EACpD,aAAa,WAAW,MAAM,EAC9BV,GACF,CAAC,EAEDA,EAAgB"}